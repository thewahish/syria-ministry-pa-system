<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Ocean Deployment Guide - PA System Website</title>
    <link rel="stylesheet" href="css/separate-pages.css">
    <style>
        .code-block { background: #2d2d2d; color: #f8f8f2; padding: 15px 20px; border-radius: 8px; font-family: 'Consolas', 'Monaco', monospace; overflow-x: auto; margin: 15px 0; }
        .method-section { background: #f8f9fa; padding: 25px; border-radius: 12px; margin: 25px 0; border-left: 5px solid #3498db; }
        .method-section h2 { color: #2c3e50; margin-top: 0; }
        .checklist { list-style: none; padding: 0; }
        .checklist li { padding: 8px 0; }
        .checklist li:before { content: "[ ] "; font-family: monospace; }
        .yaml-block { background: #1e1e1e; color: #d4d4d4; padding: 20px; border-radius: 8px; font-family: 'Consolas', monospace; overflow-x: auto; }
        .cost-table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        .cost-table th, .cost-table td { padding: 12px 15px; text-align: left; border-bottom: 1px solid #ddd; }
        .cost-table th { background: #3498db; color: white; }
        .file-tree { background: #2d2d2d; color: #f8f8f2; padding: 20px; border-radius: 8px; font-family: monospace; }
        .troubleshoot { background: #fff3cd; padding: 15px 20px; border-radius: 8px; margin: 15px 0; border-left: 4px solid #ffc107; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Digital Ocean Deployment Guide</h1>
            <p class="subtitle">PA System Website - pa.obaisukar.com</p>
        </header>

        <main>
            <section>
                <h2>Prerequisites</h2>
                <ul>
                    <li>Digital Ocean account</li>
                    <li>Domain name: <code>pa.obaisukar.com</code> (configured in DNS)</li>
                    <li>Local project files ready for upload</li>
                </ul>
            </section>

            <div class="method-section">
                <h2>Method 1: Static Website Hosting (Recommended)</h2>

                <h3>Step 1: Create Digital Ocean App</h3>
                <div class="code-block"><pre># Using Digital Ocean CLI (doctl)
doctl apps create --spec deployment-spec.yaml

# Or use the web interface:
# 1. Go to Digital Ocean Dashboard
# 2. Click "Create" → "Apps"
# 3. Choose "Static Site"
# 4. Connect your GitHub repository or upload files</pre></div>

                <h3>Step 2: Upload Website Files</h3>
                <div class="code-block"><pre># Via GitHub (recommended)
git push origin main

# Or via direct upload
# Upload all files to Digital Ocean App Platform
# Ensure relative paths are maintained</pre></div>

                <h3>Step 3: Configure Domain</h3>
                <ol>
                    <li>In Digital Ocean Apps dashboard</li>
                    <li>Go to "Settings" → "Domains"</li>
                    <li>Add custom domain: <code>pa.obaisukar.com</code></li>
                    <li>Update DNS records as instructed</li>
                </ol>
            </div>

            <div class="method-section">
                <h2>Method 2: Docker Deployment</h2>

                <h3>Step 1: Create Dockerfile</h3>
                <div class="code-block"><pre>FROM nginx:alpine

# Copy website files
COPY . /usr/share/nginx/html

# Copy nginx config
COPY nginx.conf /etc/nginx/nginx.conf

# Expose port
EXPOSE 80

CMD ["nginx", "-g", "daemon off;"]</pre></div>

                <h3>Step 2: Create nginx.conf</h3>
                <div class="code-block"><pre>events {
    worker_connections 1024;
}

http {
    include /etc/nginx/mime.types;

    # Gzip compression
    gzip on;
    gzip_types text/css application/javascript text/html;

    server {
        listen 80;
        server_name pa.obaisukar.com;

        # Document root
        root /usr/share/nginx/html;
        index bilingual-index.html index.html;

        # Handle SPA routing
        try_files $uri $uri/ /bilingual-index.html;

        # Cache static assets
        location ~* \.(css|js|png|jpg|jpeg|gif|ico|svg)$ {
            expires 1y;
            add_header Cache-Control "public, no-transform";
        }

        # Security headers
        add_header X-Frame-Options "SAMEORIGIN";
        add_header X-Content-Type-Options "nosniff";
        add_header X-XSS-Protection "1; mode=block";
    }
}</pre></div>

                <h3>Step 3: Deploy to Digital Ocean</h3>
                <div class="code-block"><pre># Build and push Docker image
docker build -t pa-system-website .
docker tag pa-system-website registry.digitalocean.com/your-registry/pa-system-website
docker push registry.digitalocean.com/your-registry/pa-system-website

# Create droplet and run
doctl compute droplet create pa-website \
    --image docker-20-04 \
    --size s-1vcpu-1gb \
    --region nyc3 \
    --ssh-keys your-ssh-key</pre></div>
            </div>

            <div class="method-section">
                <h2>Method 3: Simple Droplet + NGINX</h2>

                <h3>Step 1: Create Droplet</h3>
                <div class="code-block"><pre># Create Ubuntu droplet
doctl compute droplet create pa-system-web \
    --image ubuntu-20-04-x64 \
    --size s-1vcpu-1gb \
    --region nyc3 \
    --ssh-keys your-ssh-key</pre></div>

                <h3>Step 2: Setup Web Server</h3>
                <div class="code-block"><pre># SSH into droplet
ssh root@your-droplet-ip

# Update system
apt update && apt upgrade -y

# Install nginx
apt install nginx -y

# Start nginx
systemctl start nginx
systemctl enable nginx</pre></div>

                <h3>Step 3: Upload Website</h3>
                <div class="code-block"><pre># From local machine
rsync -avz --delete . root@your-droplet-ip:/var/www/html/

# Or use SCP
scp -r . root@your-droplet-ip:/var/www/html/</pre></div>

                <h3>Step 4: Configure NGINX</h3>
                <div class="code-block"><pre># Edit nginx config
nano /etc/nginx/sites-available/pa.obaisukar.com

# Add configuration:
server {
    listen 80;
    server_name pa.obaisukar.com www.pa.obaisukar.com;

    root /var/www/html;
    index bilingual-index.html index.html;

    location / {
        try_files $uri $uri/ /bilingual-index.html;
    }

    # Cache static files
    location ~* \.(css|js|png|jpg|jpeg|gif|ico|svg)$ {
        expires 1y;
        add_header Cache-Control "public";
    }
}

# Enable site
ln -s /etc/nginx/sites-available/pa.obaisukar.com /etc/nginx/sites-enabled/
nginx -t
systemctl reload nginx</pre></div>
            </div>

            <section>
                <h2>SSL Setup with Let's Encrypt</h2>
                <div class="code-block"><pre># Install certbot
apt install certbot python3-certbot-nginx -y

# Get SSL certificate
certbot --nginx -d pa.obaisukar.com -d www.pa.obaisukar.com

# Auto-renewal
systemctl enable certbot.timer</pre></div>
            </section>

            <section>
                <h2>File Structure for Deployment</h2>
                <div class="file-tree"><pre>syria-ministry-pa-system/
├── bilingual-index.html (main page)
├── css/
│   └── bilingual-styles.css
├── js/
│   └── language-toggle.js
├── pages/
│   ├── ultra-budget.html
│   ├── speaker-comparison.html
│   ├── remote-control.html
│   └── vendor-specs.html
├── assets/
│   ├── images/
│   └── documents/
├── OLD/ (archived files)
├── nginx.conf (if using Docker)
├── Dockerfile (if using Docker)
└── deployment-spec.yaml (if using App Platform)</pre></div>
            </section>

            <section>
                <h2>Digital Ocean App Platform Spec</h2>
                <p>Create <code>deployment-spec.yaml</code>:</p>
                <div class="yaml-block"><pre>name: pa-system-website
services:
- name: web
  source_dir: /
  github:
    repo: your-username/syria-ministry-pa-system
    branch: main
  run_command: nginx
  environment_slug: nginx
  instance_count: 1
  instance_size_slug: basic-xxs
  routes:
  - path: /
  domains:
  - domain: pa.obaisukar.com
    type: PRIMARY
  - domain: www.pa.obaisukar.com
    type: ALIAS
static_sites:
- name: pa-website
  source_dir: /
  github:
    repo: your-username/syria-ministry-pa-system
    branch: main
  routes:
  - path: /
  index_document: bilingual-index.html
  error_document: bilingual-index.html</pre></div>
            </section>

            <section>
                <h2>Quick Deployment Commands</h2>

                <h3>One-Click Deployment</h3>
                <div class="code-block"><pre># Upload to Digital Ocean Spaces (CDN)
s3cmd put --recursive . s3://your-bucket/ --acl-public

# Or use GitHub Pages (free alternative)
git push origin gh-pages</pre></div>

                <h3>Environment Setup</h3>
                <div class="code-block"><pre># Set environment variables
export DO_TOKEN="your-digital-ocean-token"
export DOMAIN="pa.obaisukar.com"
export PROJECT_NAME="syria-pa-system"</pre></div>

                <h3>Automated Deployment Script</h3>
                <div class="code-block"><pre>#!/bin/bash
# deploy.sh

echo "Deploying PA System Website to Digital Ocean..."

# Build and optimize
echo "Preparing files..."
cp bilingual-index.html index.html

# Upload to Digital Ocean
echo "Uploading files..."
doctl apps create-deployment $APP_ID

echo "Deployment complete!"
echo "Visit: https://pa.obaisukar.com"</pre></div>
            </section>

            <section>
                <h2>Monitoring and Analytics</h2>

                <h3>Setup monitoring</h3>
                <div class="code-block"><pre># Install monitoring agent
curl -sSL https://repos.insights.digitalocean.com/install.sh | sudo bash

# Configure uptime monitoring
doctl monitoring alert create \
    --name "PA Website Down" \
    --type "uptime" \
    --targets "https://pa.obaisukar.com" \
    --threshold 95</pre></div>
            </section>

            <section>
                <h2>Troubleshooting</h2>

                <div class="troubleshoot">
                    <h4>Common Issues:</h4>
                    <ol>
                        <li><strong>Relative paths not working:</strong> Ensure all links use <code>./</code> prefix</li>
                        <li><strong>Arabic text not displaying:</strong> Check UTF-8 encoding</li>
                        <li><strong>Language toggle not working:</strong> Verify JavaScript is enabled</li>
                        <li><strong>SSL certificate issues:</strong> Run <code>certbot renew --dry-run</code></li>
                    </ol>
                </div>

                <h3>Logs:</h3>
                <div class="code-block"><pre># NGINX access logs
tail -f /var/log/nginx/access.log

# NGINX error logs
tail -f /var/log/nginx/error.log

# Digital Ocean App logs
doctl apps logs $APP_ID</pre></div>
            </section>

            <section>
                <h2>Cost Estimation</h2>

                <table class="cost-table">
                    <thead>
                        <tr>
                            <th>Option</th>
                            <th>Monthly Cost</th>
                            <th>Notes</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>App Platform</td>
                            <td>$5-12/month</td>
                            <td>Static site</td>
                        </tr>
                        <tr>
                            <td>Droplet</td>
                            <td>$5-10/month</td>
                            <td>Small server</td>
                        </tr>
                        <tr>
                            <td>Spaces CDN</td>
                            <td>$5/month + bandwidth</td>
                            <td>CDN storage</td>
                        </tr>
                    </tbody>
                </table>
                <p><strong>Recommended:</strong> App Platform for simplicity and auto-scaling.</p>
            </section>

            <section>
                <h2>Final Checklist</h2>
                <ul class="checklist">
                    <li>All files use relative paths (<code>./css/</code>, <code>./js/</code>)</li>
                    <li>Arabic fonts are web-safe</li>
                    <li>Language toggle works properly</li>
                    <li>All links are functional</li>
                    <li>Mobile responsive design tested</li>
                    <li>SSL certificate configured</li>
                    <li>Domain DNS properly configured</li>
                    <li>Monitoring alerts set up</li>
                    <li>Backup strategy in place</li>
                </ul>
            </section>

            <div style="background: linear-gradient(135deg, #28a745 0%, #20c997 100%); color: white; padding: 30px; border-radius: 12px; margin: 30px 0; text-align: center;">
                <h2>Ready to deploy to: https://pa.obaisukar.com</h2>
            </div>
        </main>

        <footer style="text-align: center; margin-top: 40px; padding-top: 20px; border-top: 2px solid #eee; color: #666;">
            <p>Syria Ministry PA System - Deployment Guide</p>
        </footer>
    </div>
</body>
</html>
